(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[421],{5298:function(e,t,s){Promise.resolve().then(s.bind(s,4886))},4886:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var n=s(3827);s(1055),s(7414),s(3806),s(6638),s(117);var o=s(4090);class i{constructor(){this.id=0,this.gameQuestions=[],this.currentLevel=0,this.appendGameQuestion=e=>{this.gameQuestions.push(e)},this.toShareableString=()=>{let e=this.gameQuestions.map(e=>e.toShareableString());return"\uD83C\uDDE8\uD83C\uDDFE Πού εν τουτον; ".concat(this.id," \n\n")+e.filter(e=>""!==e).join("\n")}}}class r{addPossibleAnswer(e){this.possibleAnswers.push(e)}checkAnswer(e){let t=this.possibleAnswers[e];if(void 0===t)throw"Answer not found for this answer ID: ".concat(e);e===this.correctAnswer?t.status="CORRECT":t.status="WRONG"}correctAnswerIsFound(){return this.possibleAnswers.some(e=>"CORRECT"===e.status)}toShareableString(){if(!(this.possibleAnswers.length-this.possibleAnswers.filter(e=>"none"===e.status).length>0))return"";{let e=this.possibleAnswers.filter(e=>"WRONG"===e.status).length;return 0===e&&this.possibleAnswers.find(e=>"CORRECT"===e.status)?"".concat(this.iconEmoji," \uD83C\uDF89"):"".concat(this.iconEmoji," ").concat("\uD83D\uDFE5".repeat(e)).concat(this.correctAnswerIsFound()?"\uD83D\uDFE9":"")}}constructor(e,t,s,n,o){this.possibleAnswers=[],this.placePhoto=e,this.question=t,this.possibleAnswers=s,this.correctAnswer=n,this.iconEmoji=o}}let a=s(6472);class u{jsonToGame(e){let t=JSON.parse(e),s=new i;return s.currentLevel=t.currentLevel,s.id=t.id,s.gameQuestions=t.gameQuestions.map(e=>{let t=e.possibleAnswers;return new r(e.placePhoto,e.question,t,e.correctAnswer,e.iconEmoji)}),s}getTodaysGame(){return this.jsonToGame(JSON.stringify(a.game))}}let l=new u;function c(){let e;let t="/pouentouton",s=window.localStorage.getItem("pouentouton-game"),i=window.localStorage.getItem("pouentouton-game-date")===new Date().toDateString();e=s&&i?l.jsonToGame(s):l.getTodaysGame();let[r,a]=(0,o.useState)(e);function u(e){let t=document.querySelector("#toaster-wrapper"),s=document.querySelector("#toaster-wrapper #toaster");s&&(s.innerHTML=e),null==t||t.setAttribute("show","1"),setTimeout(()=>{null==t||t.setAttribute("show","0")},3e3)}return(0,n.jsxs)("div",{children:[(localStorage.setItem("pouentouton-game",JSON.stringify(r)),localStorage.setItem("pouentouton-game-date",new Date().toDateString()),!0),(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:'<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2194018182042050"\n          crossorigin="anonymous"></script>\n      <!-- Pou en touton -->\n      <ins class="adsbygoogle"\n          style="display:block"\n          data-ad-client="ca-pub-2194018182042050"\n          data-ad-slot="3596258713"\n          data-ad-format="auto"\n          data-full-width-responsive="true"></ins>\n      <script>\n          (adsbygoogle = window.adsbygoogle || []).push({});\n      </script>'}}),(0,n.jsx)("header",{children:(0,n.jsx)("img",{src:"".concat(t,"/pouentouto-logo.png"),alt:""})}),(0,n.jsx)("main",{children:(0,n.jsxs)("div",{className:"game-question",children:[(0,n.jsx)("section",{id:"place-photo",children:(0,n.jsx)("img",{src:"".concat(t,"/place-photos/").concat(r.gameQuestions[r.currentLevel].placePhoto),alt:""})}),(0,n.jsxs)("section",{id:"question",children:[(0,n.jsxs)("div",{className:"question-title",children:[r.gameQuestions[r.currentLevel].iconEmoji," ",r.gameQuestions[r.currentLevel].question]}),(0,n.jsx)("ul",{className:"possible-answers",children:r.gameQuestions[r.currentLevel].possibleAnswers.map((e,t)=>{var s;return(0,n.jsx)("li",{className:"CORRECT"===(s=e.status)?"correct-answer":"WRONG"===s?"wrong-answer":"",children:(0,n.jsx)("button",{onClick:()=>{r.gameQuestions[r.currentLevel].checkAnswer(t),r.gameQuestions[r.currentLevel].possibleAnswers.find(e=>"CORRECT"===e.status)&&u("\uD83C\uDF89 Ήβρες το!"),a({...r})},children:e.title})},t)})})]}),r.gameQuestions[r.currentLevel].correctAnswerIsFound()&&(0,n.jsxs)("div",{className:"question-end-buttons",children:[(0,n.jsx)("button",{className:"share",onClick:()=>{let e;return e=r.toShareableString(),void(navigator.share?navigator.share({text:e}):(navigator.clipboard.writeText(e),u("\uD83D\uDCCB Εμπήκε στο clipboard")))},children:"Share"}),r.currentLevel!==r.gameQuestions.length-1&&(0,n.jsx)("button",{className:"next-level",onClick:()=>{var e,t;null===(e=document.querySelector(".game-question"))||void 0===e||e.removeAttribute("fade-in"),null===(t=document.querySelector(".game-question"))||void 0===t||t.setAttribute("hide",""),setTimeout(()=>{var e,t;null===(e=document.querySelector(".game-question"))||void 0===e||e.removeAttribute("hide"),null===(t=document.querySelector(".game-question"))||void 0===t||t.setAttribute("fade-in","")},50),r.currentLevel++,a({...r})},children:"Επόμενος γύρος"})]})]})}),(0,n.jsx)("div",{id:"toaster-wrapper",children:(0,n.jsx)("div",{id:"toaster",style:{margin:"auto",backgroundColor:"black",color:"white",padding:"9px 30px",marginTop:"30px",width:"300px",textAlign:"center"}})})]})}},7414:function(){},1055:function(){},3806:function(){},6638:function(){},117:function(){},6472:function(e){"use strict";e.exports=JSON.parse('{"game":{"id":3,"currentLevel":0,"gameQuestions":[{"question":"Πού εν τούτον;","iconEmoji":"\uD83D\uDCCD","possibleAnswers":[{"title":"Αστρομερίτης","status":"none"},{"title":"Δορά","status":"none"},{"title":"Αγίρδα","status":"none"},{"title":"Κλήρου","status":"none"}],"correctAnswer":3,"placePhoto":"v-27.png"},{"question":"Σε πια επαρχία βρίσκεται το χωριό Κλήρου;","iconEmoji":"\uD83C\uDF06","possibleAnswers":[{"title":"Λευκωσία","status":"none"},{"title":"Κερύνεια","status":"none"},{"title":"Λεμεσός","status":"none"},{"title":"Λάρνακα","status":"none"},{"title":"Πάφος","status":"none"},{"title":"Αμμόχωστος","status":"none"}],"correctAnswer":0,"placePhoto":"v-27.png"},{"question":"Πόσος είναι ο πληθυσμός του χωριού Κλήρου;","iconEmoji":"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC66","possibleAnswers":[{"status":"none","title":"<1000"},{"status":"none","title":"1000-5000"},{"status":"none","title":"5000-10000"},{"status":"none","title":">10000"}],"correctAnswer":1,"placePhoto":"v-27.png"},{"question":"Ποιό απο τα χωριά βρίσκονται στην επαρχία Λευκωσία;","iconEmoji":"\uD83C\uDFD9️","placePhoto":"districts/nicosia.jpg","possibleAnswers":[{"title":"Κονιά","status":"none"},{"title":"Αυγολίδα","status":"none"},{"title":"Άγιος Επιφάνιος Ορεινής","status":"none"},{"title":"Άγιος Κωνσταντίνος","status":"none"}],"correctAnswer":2}]}}')}},function(e){e.O(0,[971,69,744],function(){return e(e.s=5298)}),_N_E=e.O()}]);