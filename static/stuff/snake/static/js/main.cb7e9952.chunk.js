(this.webpackJsonpgame=this.webpackJsonpgame||[]).push([[0],[,,,,,,,,function(e,n,t){e.exports=t(18)},,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(4),i=t.n(r),s=(t(13),t(7)),c=t(5),u=(t(14),t(15),t(16),t(6));function l(){return{coordinates:[],direction:"LEFT",moveSnake:function(){var e={LEFT:{x:-1,y:0},RIGHT:{x:1,y:0},UP:{x:0,y:-1},DOWN:{x:0,y:1}},n=this.coordinates[0],t={x:n.x+e[this.direction].x,y:n.y+e[this.direction].y};this.coordinates.unshift(t),this.coordinates.pop()},expandSnake:function(){var e=this.coordinates[this.coordinates.length-1];this.coordinates.push({x:e.x,y:e.y})},snakeHasRunIntoItself:function(){var e=Object(u.a)(this.coordinates),n=e.shift();return e.filter((function(e){return e.x===n.x&&e.y===n.y})).length>0},snakeIsWithinBoundaries:function(e){return 0===this.coordinates.filter((function(n){return n.x<1||n.y<1||n.x>e.x||n.y>e.y})).length}}}function d(){return{coordinates:{},changeTreatPosition:function(){this.coordinates={x:Math.floor(20*Math.random()+1),y:Math.floor(20*Math.random()+1)}}}}function m(){return{dimensions:{size:20},snake:new l,treat:new d}}function f(){var e=new m,n=!0;return e.snake.coordinates=[{x:10,y:10},{x:11,y:10},{x:12,y:10},{x:13,y:10}],e.treat.coordinates={x:3,y:3},{score:0,board:e,gameLoop:function(){!0!==n&&(e.snake.moveSnake(),function(){var n=e.snake.coordinates[0];return n.x===e.treat.coordinates.x&&n.y===e.treat.coordinates.y}()&&(e.treat.changeTreatPosition(),e.snake.expandSnake(),this.score=this.score+1),e.snake.snakeIsWithinBoundaries({x:20,y:20})&&!e.snake.snakeHasRunIntoItself()||(alert("Final score: "+this.score),window.location.reload()))},setSnakeDirection:function(n){e.snake.direction=n},resumeGame:function(){n=!1},pauseGame:function(){n=!0},getIsPaused:function(){return n},isPaused:n}}t(17);var h=function(e){var n=e.show,t=e.resumeGame;return o.a.createElement("div",{id:"splash-screen",show:n},o.a.createElement("h1",null,"Snake"),o.a.createElement("button",{onClick:function(){t()}},"Start game"))};function k(e){var n=e.game;return o.a.createElement("section",{id:"board"},function(e){for(var n=[],t=1;t<=20;t++)for(var a=1;a<=20;a++)n.push({x:a,y:t,hasSnakePiece:e.board.snake.coordinates.some((function(e){return e.x===a&&e.y===t})),hasTreat:e.board.treat.coordinates.x===a&&e.board.treat.coordinates.y===t});return n}(n).map((function(e,n){return o.a.createElement("div",{className:"board-pixel",key:n,x:e.x,y:e.y,snakepiece:!0===e.hasSnakePiece?"1":"0",treat:!0===e.hasTreat?"1":"0"})})))}function y(e){var n=e.setSnakeDirection,t=e.pauseGame;return o.a.createElement("section",{id:"controls"},o.a.createElement("button",{onClick:function(){return n("UP")},className:"up-button"},"UP"),o.a.createElement("button",{onClick:function(){return n("LEFT")},className:"left-button"},"LEFT"),o.a.createElement("button",{onClick:function(){return n("RIGHT")},className:"right-button"},"RIGHT"),o.a.createElement("button",{onClick:function(){return n("DOWN")},className:"down-button"},"DOWN"),o.a.createElement("button",{onClick:function(){return t()},className:"pause-button"},"Pause"))}var x=function(){var e=Object(a.useState)(new f),n=Object(c.a)(e,2),t=n[0],r=n[1];return function(e){document.addEventListener("keydown",(function(n){switch(n.key){case"ArrowUp":e.setSnakeDirection("UP");break;case"ArrowDown":e.setSnakeDirection("DOWN");break;case"ArrowLeft":e.setSnakeDirection("LEFT");break;case"ArrowRight":e.setSnakeDirection("RIGHT");break;default:console.log("Only arrow keys do anything here")}}))}(t),Object(a.useEffect)((function(){setTimeout((function(){t.gameLoop(),r(Object(s.a)({},t))}),300)}),[t]),o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"score-display"},"Score: ",t.score),o.a.createElement(k,{game:t}),o.a.createElement(y,{setSnakeDirection:t.setSnakeDirection,pauseGame:t.pauseGame}),o.a.createElement(h,{show:t.getIsPaused()?"1":"0",resumeGame:function(){return t.resumeGame()}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.cb7e9952.chunk.js.map